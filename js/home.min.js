function fetchLog(){$.ajax({url:"resources/handler/home.php",data:{event:"updateLog"},type:"POST",dataType:"json"}).done(function(e){if(e.hasOwnProperty("error"));else{$("#userLog").html("");for(var a=0;a<e.userLog.length;a++){var s=e.userLog[a].ulTimestamp,r=e.userLog[a].uFirstname,t=e.userLog[a].uLastname,o=e.userLog[a].uppImagePath,i="";i=null==o?'<div class="ppCircle circle z-depth-1"><i class="ppUser fa fa-user"></i></div>':'<img src="'+o+'" alt="" class="z-depth-1 circle responsive-img">';var n=timeDifference(s,e.Time),c="";c+='<div class="log col s12 m8 offset-m2 l6 ">',c+='<div class="card-panel grey lighten-5 z-depth-1 hoverable">',c+='<div class="row valign-wrapper">',c+='<div class="col s2">',c+=i,c+="</div>",c+='<div class="col s10">',c+='<span class="black-text truncate">',c+=r+" "+t,c+="</span>",c+='<span class="grey-text">',c+=" Signed In to the application ",c+=n,c+="</span>",c+="</div>",c+="</div>",c+="</div>",c+="</div>",$("#userLog").append(c)}}}).fail(function(){})}function timeDifference(e,a){var s=6e4,r=60*s,t=24*r,o=1e3*(a-e);return s>o?Math.round(o/1e3)+" seconds ago":r>o?Math.round(o/s)+" minutes ago":t>o?Math.round(o/r)+" hours ago":Math.round(o/t)+" days ago"}fetchLog(),$("#fetchLog").click(function(){fetchLog(),Materialize.toast("Log feed updated",4e3,"rounded")});